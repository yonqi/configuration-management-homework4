# configuration-management-homework4
Домашки по конфигурационному управлению (номер 4!)
## Вариант 10
### Задание 4

Разработать ассемблер и интерпретатор для учебной виртуальной машины
(УВМ). Система команд УВМ представлена далее.

Для ассемблера необходимо разработать читаемое представление команд
УВМ. Ассемблер принимает на вход файл с текстом исходной программы, путь к
которой задается из командной строки. Результатом работы ассемблера является
бинарный файл в виде последовательности байт, путь к которому задается из
командной строки. Дополнительный ключ командной строки задает путь к файлулогу, в котором хранятся ассемблированные инструкции в духе списков
“ключ=значение”, как в приведенных далее тестах.

Интерпретатор принимает на вход бинарный файл, выполняет команды УВМ
и сохраняет в файле-результате значения из диапазона памяти УВМ. Диапазон
также указывается из командной строки.

Форматом для файла-лога и файла-результата является **yaml**.

Необходимо реализовать приведенные тесты для всех команд, а также
написать и отладить тестовую программу.

**Операции:**
```
- Загрузка константы 
- Чтение из памяти 
- Запись в память 
- Унарная операция: abs()
```

**Тестовая программа**
```
Выполнить поэлементно операцию abs() над вектором длины 5. Результат
записать в исходный вектор.
```

#### Общее описание проекта

Проект представляет собой ассемблер и интерпретатор для выполнения инструкций низкого уровня.

1. Ассемблер:

    - Читает входные текстовые команды из файла, преобразует их в двоичные инструкции и сохраняет в выходной файл.
    - Создает лог-файл, содержащий информацию о каждой инструкции и ее представление в байтах.

2. Интерпретатор:

    - Читает двоичные инструкции из файла, выполняет их и обновляет состояние памяти.
    - Логирует выполнение каждой инструкции, включая состояние памяти.

#### Описание функций

**Ассемблер**

1. `instruction_to_bytes`

  - Описание: преобразует 64-битное значение инструкции в массив из 7 байт.
  - Аргументы: instruction (int): Число, представляющее машинный код команды.
  - Возвращает: Список строк в формате 0xXX, представляющих байты инструкции.

2. `assemble`

  - Описание: считывает текстовые инструкции из файла, преобразует их в двоичный код, сохраняет в файл и генерирует лог.
  - Аргументы:
    - input_file (str): Имя входного файла с текстовыми командами.
    - output_file (str): Имя выходного файла для бинарных данных.
    - log_file (str):
  - Возвращает: Нет.

3. `main (встроенная)`

  - Описание: Проверяет аргументыОписаниеassemble.
  - Аргументы: Принимает аргументы командной строки.
  - Возвращает: Нет.
    
**Интерпретатор**

1. `instruction_to_bytes`

  - Описание: аналогичная функция из ассемблера, используется для регистрации инструкций.
  - Аргументы: instruction (int): Число, представляющее машинный код команды.
  - Возвращает: Список строк в формате 0xXX.

2. `extract_signed_field`

  - Описание: извлекает знаковое значение из инструкции, используя битовую маску.
  - Аргументы:
    - instruction (int): Число, представляющее машинный код команды.
    - shift (int): Смещение в битах.
    - bit_length (int): Длина извлекаемого поля.
  - Возвращает: целое число, знаковое (если применимо).

3. `interpret`

  - Описание: считывает двоичные инструкции, выполняет их, обновляет память и генерирует лог.
  - Аргументы:
    - binary_file (str): Имя входного файла с бинарными данными.
    - result_file (str): Имя файла для записи результата.
    - memory_range (tuple): Диапазон памяти для сохранения в результат.
  - Возвращает: Нет. Результаты сохраняются в файле.

4. `main (встроенная)`

  - Описание: Проверяет аргументы командной строки и вызывает функцию interpret.
  - Аргументы: Принимает аргументы командной строки.
  - Возвращает: Нет.

#### Тест 1

##### Файл `input.txt` для быстрого ввода кода на учебном конфигурационном языке
![image](https://github.com/user-attachments/assets/72bb708c-e6d2-4fed-b398-9a76dd07be34)
##### Результат работы программы с данным файлом
![image](https://github.com/user-attachments/assets/532003bd-04cb-4966-9322-739cb95b4cfe)

#### Тест 2

##### Файл `input_2.txt` для быстрого ввода кода на учебном конфигурационном языке
![image](https://github.com/user-attachments/assets/52f2623b-fb0e-4597-ac7f-91d3f9ded4e2)

##### Результат работы программы с данным файлом
![image](https://github.com/user-attachments/assets/52c41d2e-6bce-4a74-8011-5a87e415b4f1)
